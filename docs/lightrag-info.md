# LightRAG - –†–µ–∂–∏–º—ã –ø–æ–∏—Å–∫–∞ (Query Modes)

## üìã –û–±–∑–æ—Ä

LightRAG - —ç—Ç–æ —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏, –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –≥—Ä–∞—Ñ–æ–≤ –∑–Ω–∞–Ω–∏–π –∏ Retrieval Augmented Generation (RAG). –°–∏—Å—Ç–µ–º–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç 6 —Ä–µ–∂–∏–º–æ–≤ –∑–∞–ø—Ä–æ—Å–æ–≤ –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –ø–æ–∏—Å–∫–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.

---

## üìå –û—Å–Ω–æ–≤–Ω—ã–µ —Ä–µ–∂–∏–º—ã (Query Modes)

### **1. Naive (–ù–∞–∏–≤–Ω—ã–π)**
- **–û–ø–∏—Å–∞–Ω–∏–µ**: Performs a basic search without advanced techniques
- **–ü—Ä–æ—Å—Ç—ã–º–∏ —Å–ª–æ–≤–∞–º–∏**: –ü—Ä–æ—Å—Ç–æ–π –±–∞–∑–æ–≤—ã–π –ø–æ–∏—Å–∫ –±–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã—Ö —Ç–µ—Ö–Ω–∏–∫
- **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**:
  - –ù–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≥—Ä–∞—Ñ –∑–Ω–∞–Ω–∏–π
  - –°–∞–º—ã–π –±—ã—Å—Ç—Ä—ã–π —Ä–µ–∂–∏–º
  - –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- **–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å**: –ü—Ä–æ—Å—Ç—ã–µ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –≤–æ–ø—Ä–æ—Å—ã, –±—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫

---

### **2. Local (–õ–æ–∫–∞–ª—å–Ω—ã–π)**
- **–û–ø–∏—Å–∞–Ω–∏–µ**: Focuses on context-dependent information
- **–ü—Ä–æ—Å—Ç—ã–º–∏ —Å–ª–æ–≤–∞–º–∏**: –§–æ–∫—É—Å–∏—Ä—É–µ—Ç—Å—è –Ω–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ-–∑–∞–≤–∏—Å–∏–º–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
- **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**:
  - –í —ç—Ç–æ–º —Ä–µ–∂–∏–º–µ –ø–∞—Ä–∞–º–µ—Ç—Ä `top_k` –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ **entities (—Å—É—â–Ω–æ—Å—Ç–µ–π)**
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –ª–æ–∫–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç –≤–æ–∫—Ä—É–≥ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π
  - –•–æ—Ä–æ—à–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º–∏ –æ–±—ä–µ–∫—Ç–∞–º–∏/–ø–µ—Ä—Å–æ–Ω–∞–º–∏
- **–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å**: –í–æ–ø—Ä–æ—Å—ã –æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –ª—é–¥—è—Ö, –º–µ—Å—Ç–∞—Ö, –æ–±—ä–µ–∫—Ç–∞—Ö

---

### **3. Global (–ì–ª–æ–±–∞–ª—å–Ω—ã–π)**
- **–û–ø–∏—Å–∞–Ω–∏–µ**: Utilizes global knowledge
- **–ü—Ä–æ—Å—Ç—ã–º–∏ —Å–ª–æ–≤–∞–º–∏**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –∑–Ω–∞–Ω–∏—è
- **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**:
  - –í —ç—Ç–æ–º —Ä–µ–∂–∏–º–µ –ø–∞—Ä–∞–º–µ—Ç—Ä `top_k` –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ **relationships (—Å–≤—è–∑–µ–π)**
  - –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Å–≤—è–∑–∏ –º–µ–∂–¥—É —Å—É—â–Ω–æ—Å—Ç—è–º–∏
  - –†–∞–±–æ—Ç–∞–µ—Ç —Å –æ–±—â–∏–º–∏ –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º–∏ –≤ –¥–∞–Ω–Ω—ã—Ö
- **–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å**: –í–æ–ø—Ä–æ—Å—ã –æ —Ç—Ä–µ–Ω–¥–∞—Ö, –∑–∞–∫–æ–Ω–æ–º–µ—Ä–Ω–æ—Å—Ç—è—Ö, –æ–±—â–∏—Ö —Ç–µ–º–∞—Ö

---

### **4. Hybrid (–ì–∏–±—Ä–∏–¥–Ω—ã–π)**
- **–û–ø–∏—Å–∞–Ω–∏–µ**: Combines local and global retrieval methods
- **–ü—Ä–æ—Å—Ç—ã–º–∏ —Å–ª–æ–≤–∞–º–∏**: –ö–æ–º–±–∏–Ω–∏—Ä—É–µ—Ç –ª–æ–∫–∞–ª—å–Ω—ã–π –∏ –≥–ª–æ–±–∞–ª—å–Ω—ã–π –º–µ—Ç–æ–¥—ã –ø–æ–∏—Å–∫–∞
- **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**:
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –∏ entities, –∏ relationships
  - –ù–∞–∏–±–æ–ª–µ–µ —Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º
  - –•–æ—Ä–æ—à–∏–π –±–∞–ª–∞–Ω—Å —Ç–æ—á–Ω–æ—Å—Ç–∏ –∏ —Å–∫–æ—Ä–æ—Å—Ç–∏
- **–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å**: **–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é** –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –∑–∞–ø—Ä–æ—Å–æ–≤

---

### **5. Mix (–°–º–µ—à–∞–Ω–Ω—ã–π)**
- **–û–ø–∏—Å–∞–Ω–∏–µ**: Integrates knowledge graph and vector retrieval
- **–ü—Ä–æ—Å—Ç—ã–º–∏ —Å–ª–æ–≤–∞–º–∏**: –ò–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç –≥—Ä–∞—Ñ –∑–Ω–∞–Ω–∏–π –∏ –≤–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫
- **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**:
  - –ö–æ–º–±–∏–Ω–∏—Ä—É–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–≥—Ä–∞—Ñ) —Å –≤–µ–∫—Ç–æ—Ä–Ω—ã–º –ø–æ–∏—Å–∫–æ–º
  - –ù–∞–∏–±–æ–ª–µ–µ –ø–æ–ª–Ω—ã–π —Ä–µ–∂–∏–º
  - –ë–æ–ª–µ–µ —Ä–µ—Å—É—Ä—Å–æ–µ–º–∫–∏–π (–º–µ–¥–ª–µ–Ω–Ω–µ–µ)
- **–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å**: –ö–æ–≥–¥–∞ –Ω—É–∂–Ω–∞ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø–æ–ª–Ω–æ—Ç–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

---

### **6. Bypass**
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –†–µ–∂–∏–º –±–µ–∑ –æ–ø–∏—Å–∞–Ω–∏—è –≤ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
- **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**: –ü—Ä–µ–¥–ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—É—é RAG-–æ–±—Ä–∞–±–æ—Ç–∫—É
- **–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å**: –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–ª—É—á–∞–∏ (–Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ)

---

## üîß –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞ (QueryParam)

```python
class QueryParam:
    """Configuration parameters for query execution in LightRAG."""

    mode: Literal["local", "global", "hybrid", "naive", "mix", "bypass"] = "global"
    """–†–µ–∂–∏–º –ø–æ–∏—Å–∫–∞ (—Å–º. –æ–ø–∏—Å–∞–Ω–∏–µ –≤—ã—à–µ)"""

    only_need_context: bool = False
    """–ï—Å–ª–∏ True, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–æ–ª—å–∫–æ –∏–∑–≤–ª–µ—á–µ–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç –±–µ–∑ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç–≤–µ—Ç–∞"""

    only_need_prompt: bool = False
    """–ï—Å–ª–∏ True, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–æ–º–ø—Ç –±–µ–∑ –æ—Ç–≤–µ—Ç–∞"""

    response_type: str = "Multiple Paragraphs"
    """–§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞: 'Multiple Paragraphs', 'Single Paragraph', 'Bullet Points'"""

    stream: bool = False
    """–ï—Å–ª–∏ True, –≤–∫–ª—é—á–∞–µ—Ç –ø–æ—Ç–æ–∫–æ–≤—ã–π –≤—ã–≤–æ–¥ –¥–ª—è –æ—Ç–≤–µ—Ç–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏"""

    top_k: int = 60
    """–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–ø —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è:
    - –í 'local' —Ä–µ–∂–∏–º–µ: –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ entities (—Å—É—â–Ω–æ—Å—Ç–µ–π)
    - –í 'global' —Ä–µ–∂–∏–º–µ: –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ relationships (—Å–≤—è–∑–µ–π)
    """

    chunk_top_k: int = 20
    """–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —á–∞–Ω–∫–æ–≤ –∏–∑ –≤–µ–∫—Ç–æ—Ä–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞"""

    max_entity_tokens: int = 6000
    """–ú–∞–∫—Å–∏–º—É–º —Ç–æ–∫–µ–Ω–æ–≤ –¥–ª—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ —Å—É—â–Ω–æ—Å—Ç–µ–π"""

    max_relation_tokens: int = 8000
    """–ú–∞–∫—Å–∏–º—É–º —Ç–æ–∫–µ–Ω–æ–≤ –¥–ª—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ —Å–≤—è–∑–µ–π"""

    max_total_tokens: int = 30000
    """–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –±—é–¥–∂–µ—Ç —Ç–æ–∫–µ–Ω–æ–≤ –¥–ª—è –≤—Å–µ–≥–æ –∑–∞–ø—Ä–æ—Å–∞"""

    conversation_history: list[dict[str, str]] = []
    """–ò—Å—Ç–æ—Ä–∏—è —Ä–∞–∑–≥–æ–≤–æ—Ä–∞ –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∞–Ω–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
    –§–æ—Ä–º–∞—Ç: [{"role": "user/assistant", "content": "message"}]
    """

    enable_rerank: bool = True
    """–í–∫–ª—é—á–∏—Ç—å —Ä–µ-—Ä–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑–≤–ª–µ—á–µ–Ω–Ω—ã—Ö —á–∞–Ω–∫–æ–≤ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏"""

    user_prompt: str | None = None
    """–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –ø—Ä–æ–º–ø—Ç –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ–±—Ä–∞–±–æ—Ç–∫–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤"""
```

---

## üåê –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ UI

–í –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ LightRAG (`https://social.aigain.io:7040`) –≤—ã –º–æ–∂–µ—Ç–µ –≤—ã–±—Ä–∞—Ç—å —Ä–µ–∂–∏–º –∏–∑ –≤—ã–ø–∞–¥–∞—é—â–µ–≥–æ —Å–ø–∏—Å–∫–∞ **Query Mode**:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Query Mode                      ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ ‚úì Mix                           ‚îÇ
‚îÇ   Naive                         ‚îÇ
‚îÇ   Local                         ‚îÇ
‚îÇ   Global                        ‚îÇ
‚îÇ   Hybrid                        ‚îÇ
‚îÇ   Bypass                        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –≤—ã–±–æ—Ä—É —Ä–µ–∂–∏–º–∞

| –†–µ–∂–∏–º | –°–∫–æ—Ä–æ—Å—Ç—å | –¢–æ—á–Ω–æ—Å—Ç—å | –°—Ü–µ–Ω–∞—Ä–∏–π –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è |
|-------|----------|----------|------------------------|
| **Naive** | ‚ö°‚ö°‚ö°‚ö°‚ö° | ‚≠ê‚≠ê | –ë—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫, –ø—Ä–æ—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã |
| **Local** | ‚ö°‚ö°‚ö°‚ö° | ‚≠ê‚≠ê‚≠ê | –í–æ–ø—Ä–æ—Å—ã –æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Å—É—â–Ω–æ—Å—Ç—è—Ö |
| **Global** | ‚ö°‚ö°‚ö°‚ö° | ‚≠ê‚≠ê‚≠ê | –í–æ–ø—Ä–æ—Å—ã –æ —Å–≤—è–∑—è—Ö –∏ –ø–∞—Ç—Ç–µ—Ä–Ω–∞—Ö |
| **Hybrid** | ‚ö°‚ö°‚ö° | ‚≠ê‚≠ê‚≠ê‚≠ê | **–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)** |
| **Mix** | ‚ö°‚ö° | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø–æ–ª–Ω–æ—Ç–∞ |
| **Bypass** | ‚ö°‚ö°‚ö°‚ö°‚ö° | ‚ùì | –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–ª—É—á–∞–∏ |

---

## üìä –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤ –ø—Ä–æ–µ–∫—Ç–µ

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–∑ `.env`:

```bash
# LightRAG Authentication
AUTH_ACCOUNTS=admin:xxxxxxxxxxxx
TOKEN_SECRET=xxxxxx

# LightRAG Configuration
SUMMARY_LANGUAGE=English
CHUNK_SIZE=1200
CHUNK_OVERLAP_SIZE=200
FORCE_LLM_SUMMARY_ON_MERGE=4
SUMMARY_MAX_TOKENS=30000

# Embeddings Configuration
EMBEDDING_BINDING=openai
EMBEDDING_MODEL=text-embedding-3-large
EMBEDDING_DIM=3072
EMBEDDING_BINDING_API_KEY=sk-***

# LLM Configuration
LLM_BINDING=openai
LLM_MODEL=gpt-4.1-mini
LLM_BINDING_API_KEY=sk-***

# Performance Settings
MAX_ASYNC=12
MAX_PARALLEL_INSERT=3
EMBEDDING_FUNC_MAX_ASYNC=24
EMBEDDING_BATCH_NUM=100
```

### –î–æ—Å—Ç—É–ø –∫ —Å–µ—Ä–≤–∏—Å—É:

**–í–Ω–µ—à–Ω–∏–π –¥–æ—Å—Ç—É–ø (–∏–∑ –±—Ä–∞—É–∑–µ—Ä–∞):**
```
https://social.aigain.io:7040           # WebUI –∏ API
https://social.aigain.io:7040/docs      # Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
https://social.aigain.io:7040/redoc     # ReDoc –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

**–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –¥–æ—Å—Ç—É–ø (–∏–∑ –¥—Ä—É–≥–∏—Ö Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤):**
```
http://lightrag:9621                    # –ü–æ –∏–º–µ–Ω–∏ —Å–µ—Ä–≤–∏—Å–∞
http://service_lightrag:9621            # –ü–æ –∏–º–µ–Ω–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
```

---

## üîç –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### Python API:

```python
from lightrag import LightRAG, QueryParam

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
rag = LightRAG(working_dir="./rag_storage")

# Naive –ø–æ–∏—Å–∫
response = rag.query(
    "What are the main topics?",
    param=QueryParam(mode="naive")
)

# Local –ø–æ–∏—Å–∫ (–∫–æ–Ω—Ç–µ–∫—Å—Ç –≤–æ–∫—Ä—É–≥ —Å—É—â–Ω–æ—Å—Ç–µ–π)
response = rag.query(
    "Tell me about John Smith",
    param=QueryParam(mode="local", top_k=60)
)

# Global –ø–æ–∏—Å–∫ (—Å–≤—è–∑–∏ –∏ –ø–∞—Ç—Ç–µ—Ä–Ω—ã)
response = rag.query(
    "What are the relationships between characters?",
    param=QueryParam(mode="global", top_k=60)
)

# Hybrid –ø–æ–∏—Å–∫ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
response = rag.query(
    "Summarize the main themes and characters",
    param=QueryParam(mode="hybrid")
)

# Mix –ø–æ–∏—Å–∫ (–º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø–æ–ª–Ω–æ—Ç–∞)
response = rag.query(
    "Comprehensive analysis of the document",
    param=QueryParam(mode="mix", max_total_tokens=30000)
)
```

### REST API:

```bash
# –ó–∞–ø—Ä–æ—Å —á–µ—Ä–µ–∑ API —Å —Ç–æ–∫–µ–Ω–æ–º
curl -X POST https://social.aigain.io:7040/api/query \
  -H "Authorization: Bearer YOUR_JWT_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "query": "What are the main themes?",
    "mode": "hybrid",
    "top_k": 60
  }'
```

---

## üéØ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–µ—Ñ–∏–∫—Å—ã –¥–ª—è UI

–í UI –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–µ—Ñ–∏–∫—Å—ã –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –≤—ã–±–æ—Ä–∞ —Ä–µ–∂–∏–º–∞:

```
/local      - Local —Ä–µ–∂–∏–º
/global     - Global —Ä–µ–∂–∏–º
/hybrid     - Hybrid —Ä–µ–∂–∏–º
/naive      - Naive —Ä–µ–∂–∏–º
/mix        - Mix —Ä–µ–∂–∏–º
/bypass     - Bypass —Ä–µ–∂–∏–º
```

**–ü—Ä–∏–º–µ—Ä —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º –ø—Ä–æ–º–ø—Ç–æ–º:**
```
/hybrid[Use mermaid format] Draw a character relationship diagram
/mix[Format as bullet points] Summarize the main themes
```

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: https://github.com/hkuds/lightrag
- **API Docs**: https://social.aigain.io:7040/docs
- **–í–µ—Ä—Å–∏—è**: latest (ghcr.io/hkuds/lightrag:latest)
- **–ü–æ—Ä—Ç –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞**: 9621
- **–í–Ω–µ—à–Ω–∏–π HTTPS –ø–æ—Ä—Ç**: 7040

---

## üîê –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

LightRAG –∏—Å–ø–æ–ª—å–∑—É–µ—Ç JWT —Ç–æ–∫–µ–Ω—ã –¥–ª—è –∑–∞—â–∏—Ç—ã API. –£—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ `.env`:

```bash
# –õ–æ–≥–∏–Ω –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è JWT —Ç–æ–∫–µ–Ω–∞
curl -X POST https://social.aigain.io:7040/auth/login \
  -H "Content-Type: application/json" \
  -d '{"username": "admin", "password": "SOC_LightRAG_5674h54worijtorjksdfg"}'

# –û—Ç–≤–µ—Ç:
{"access_token": "eyJ0eXAiOiJKV1QiLCJhb..."}
```

---

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è**: 2025-10-07
**–í–µ—Ä—Å–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞**: 1.0
**–ü—Ä–æ–µ–∫—Ç**: AI Project v2.5.2